<div class="flex flex-col justify-center mx-2 mt-3 mb-5 max-w-full">
    <h2 class="text-2xl md:mx-auto md:w-3/12 max-w-full px-2">Account Settings</h2>
    <div class ="bg-white mt-3 border rounded-lg px-4 py-1 md:mx-auto md:w-3/12 max-w-full">
        <% if (message) { %>
            <p class="mt-3 text-red-500 text-sm"><%= message %></p>
        <% } %> 
        <form action="/users/<%= user.id %>/?_method=PUT" method="POST">
            <div class="mt-3 flex flex-col">
                <label for="username">Username:</label>
                <input id="username" type="text" name="username" value="<%= user.username %>" class="mt-1 border rounded text-clip px-2 py-1" maxlength="32" onkeydown="return /[a-zA-Z0-9]/i.test(event.key)" required>
            </div>
            <div class="mt-3 flex flex-col">
                <label for="email">Email:</label>
                <input id="email" type="email" name="email" value="<%= user.email %>" class="mt-1 border rounded text-clip px-2 py-1" required>
            </div>
            <div class="mt-3 flex flex-col">
                <label for="old-password">Old Password:</label>
                <input id="old-password" type="password" name="oldPassword" class="mt-1 border rounded text-clip px-2 py-1" required>
            </div>
            <div class="mt-3 flex flex-col">
                <label for="new-password">New Password:</label>
                <input id="new-password" type="password" name="newPassword" class="mt-1 border rounded text-clip px-2 py-1" required>
            </div>
            <div class="mt-3 flex flex-col">
                <label for="new-password-confirm">Confirm New Password:</label>
                <input id="new-password-confirm" type="password" name="newPasswordConfirm" class="mt-1 border rounded text-clip px-2 py-1" required>
            </div>
            <button type="submit" class="my-4 px-2 py-1 bg-blue-500 rounded text-white text-sm w-full">Save</button>
        </form>

        <hr class="my-1">

        <form action="/users/<%= user.id %>/?_method=DELETE" method="POST">
            <input type="hidden" name="userId" value="<%= user.id %>">
            <div class="flex justify-center"><button type="submit" class="my-4 px-2 py-1 bg-red-500 rounded text-white text-sm">Delete your account</button></div>
        </form>
    </div>
</div>
